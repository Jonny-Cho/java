package star;

import static org.junit.Assert.*;

import org.junit.Test;

public class PokerRankTest {

	@Test
	public void test() {
		Card[] cards = {
				new Card(1,1),new Card(1,2),new Card(1,3),new Card(1,4),new Card(1,5),
		};
		assertTrue(rankCheck(cards).equals("STRAIGHT"));
	}
	
	@Test
	public void test2() {
		Card[] cards = {
				new Card(1,1),new Card(1,1),new Card(1,3),new Card(1,4),new Card(1,5),
		};
		assertTrue(rankCheck(cards).equals("ONE PAIR"));
	}
	
	@Test
	public void test3() {
		Card[] cards = {
				new Card(1,1),new Card(1,1),new Card(1,3),new Card(1,3),new Card(1,5),
		};
		assertTrue(rankCheck(cards).equals("TWO PAIR"));
	}
	
	@Test
	public void test4() {
		Card[] cards = {
				new Card(1,1),new Card(1,1),new Card(1,1),new Card(1,3),new Card(1,5),
		};
		assertTrue(rankCheck(cards).equals("THREE CARD"));
	}
	
	@Test
	public void test4() {
		Card[] cards = {
				new Card(1,1),new Card(1,1),new Card(1,1),new Card(1,1),new Card(1,5),
		};
		assertTrue(rankCheck(cards).equals("FOUR CARD"));
	}
	
	String rankCheck(Card[] cArr){
		
		Card[] cards = {
				new Card(1,1),new Card(1,2),new Card(1,3),new Card(1,4),new Card(1,5),
		}; //객체생성
//		System.out.println(cards[0].kind); // 호출
//		System.out.println(cards[1].num);
		
		
		// 한쌍 = one pair, 두쌍 = two pair ... 조건별로 문자열 출력
		// counting
		String result = "";
		
		int[] cntArr = new int [14]; // 0~13 갯수 카운트 배열
		
		for(int i=0;i<cArr.length;i++){
			cntArr[cArr[i].num]++;
		}
		
		//카운팅 표시
		for(int i=0;i<cntArr.length;i++){
			System.out.printf("cntArr[%d]=%d%n",i,cntArr[i]);	
		}
		
		
		// 스트레이트 판별
		// 처음에 1을 발견하면 5개 반복(해야됨)
		for(int i=0;i<10;i++){
			int stCnt = 0; // straight 카운트
			for(int j=i;j<=i+4;j++){ // i=0 -> j=0~4, i=1 -> j=1~5 ..
				if(cntArr[j]==1){
					stCnt++;
				}
				if(stCnt==5){
					result = "STRAIGHT";
					break;
				}
			}
		}
		
		System.out.println(result);
		
		// 페어 판별
		int pairCnt = 0; // pair 카운트
		boolean isThreeCard = false;
		boolean isFourCard = false;
		
		for(int i=0;i<cntArr.length;i++){
			if(cntArr[i]==2){
				pairCnt++;
			} else if(cntArr[i]==3) {
				isThreeCard = true;
			}
			else if(cntArr[i]==4){
				isFourCard = true;
			}
		}
		
		if(pairCnt==1){
			result = "ONE PAIR";
		}
		if(pairCnt==2){
			result = "TWO PAIR";
		}
		if(isThreeCard == true){
			result = "THREE CARD";
		}
		if(isThreeCard == true){
			result = "FOUR CARD";
		}
		
		return result;
	}
}

class Card {
	int kind;
	int num;
	
	Card(int kind, int num){
		this.kind = kind;
		this.num = num;
	}
	
	public String toString(){
		return "kind = " + kind + ", num = "+ num;
	}
}
